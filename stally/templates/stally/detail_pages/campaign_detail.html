{% extends 'stally/base.html' %}

{% block pagetitle %}
  {{ campaign.name }}
{% endblock %}


{# Campagin description #}
{% block content %}
  <h1>{{ campaign.name }}</h1>
  {% include 'stally/_campaign_attributes.html' %}

  {# Character list #}
  <div class="title-small">
    <h1><a href="{% url 'campaign_character_list' pk=campaign.pk %}"
           class="">Characters in {{ campaign.name }}</a></h1>
  </div>

  {% for character in campaign.characters_without_pokemon.all  %}
    <h3><a href="{% url 'character_detail' pk=character.pk %}">
      {{ character.name }}</a></h3>
    {% include 'stally/_character_attributes.html' %}
  {% endfor %}

  {# Pokemon list (if present) #}
  {% if campaign.pc_pokemon.all %}
    <div class="page-title">
      <h1><a href="{% url 'campaign_pokemon_list' pk=campaign.pk %}"
             class="">Pokémon in {{ campaign.name }}</a></h1>
    </div>

    {% for pokemon in campaign.pc_pokemon.all  %}
      <div class="content-box-medium">
        <h3><a href="{% url 'pokemon_detail' pk=pokemon.pk %}">
            {{ pokemon.name }}</a></h3>
        {% include 'stally/_pokemon_attributes.html' %}
      </div>
    {% endfor %}
  {% endif %}

  {# NPC list (if present) #}
  {% if campaign.npcs.all %}
    <div class="page-title">
      <h1><a href="{% url 'campaign_npc_list' pk=campaign.pk %}"
          class="">NPCs in {{ campaign.name }}</a></h1>
    </div>

    {% for character in campaign.npcs.all  %}
      {% include 'stally/_character_attributes.html' %}
    {% endfor %}
  {% endif %}

  {# NPC Pokemon (if present) #}
  {% if campaign.npc_pokemon.all %}
    <div class="page-title">
      <h1><a href="{% url 'campaign_npc_list' pk=campaign.pk %}"
             class="">NPC Pokémon in {{ campaign.name }}</a></h1>
    </div>

    {% for pokemon in campaign.npc_pokemon.all  %}
      <div class="content-box-medium">
        <h3><a href="{% url 'pokemon_detail' pk=pokemon.pk %}">
            {{ pokemon.name }}</a></h3>
        {% include 'stally/_pokemon_attributes.html' %}
      </div>
    {% endfor %}
  {% endif %}

{% endblock %}
